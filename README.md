# TapeYadro
Здесь выложен код для тестового задания компании Yadro в команду TATLIN.UNIFIED.

## Что реализовано?
Создана консольная утилита, которая в условиях ограниченной памяти может сортировать большие файлы. Он работает по принципу Merge sort (сортировки слиянием):

1. Сначала считываются значения из входного файла до тех пор, пока не достигнут лимит по памяти (MEMORY_LIMIT).
2. Далее все текущие считанные значения сортируются с помощью Quick sort и записываются во временный файл (tmp/batch{id}.txt).
3. Теперь необходимо объединить все полученные файлы. Для этого в приоритетную очередь добавляется первое (наименьшее) значение из каждого файла, а также номер файла. Когда мы достаем из очереди какое-то значение, то необходимо прочитать из этого же файла следующее число. Таким образом, когда очередь опустеет значение в выходном файле будут отсортированы.

## Архитектура
Программа построена на чистой архитектуре. Модуль "domain" отвечает за центральную логику и определяет интерфейсы взаимодействия, "data" - реализует интерфейсы. 

Чтобы для конфигурации приложения не было необходимости перекомпилировать код, использован files/.env файл. С его помощью можно настроить, например, MEMORY_LIMIT.

## Асимптотика
Время: O(n * log K), где N - число значений в исходном файле, K - число временных файлов. Такая асимптотика из-за использования приоритетной очереди в стадии объединения файлов.

Память: O(MEMORY_LIMIT), где MEMORY_LIMIT - это переменная, задаваемая в .env файле. Она определяет каких размеров массив будет сохранен в памяти при чтении исходного файла.

## Как использовать?
Для старта утилиты необходимо запустить исполняемый файл:
```./TapeYadro```. Также возможно передача аргументов при запуске:

1. ```-i --input-file``` - путь до файла, который необходимо отсортировать.
2. ```-o --output-file``` - путь до выходного файла.
3. ```-e --env``` - путь до файла конфигурации.